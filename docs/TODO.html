<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>TODO • multienrichjam</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><meta property="og:title" content="TODO"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-title-body">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">multienrichjam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.56.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="articles/importIPA.html">How to import and use Ingenuity IPA enrichment data</a>
    </li>
  </ul></li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/multienrichjam/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>TODO</h1>
    </div>

<div id="todo" class="section level1">

<div class="section level2">
<h2 id="23mar2022-issue-7-passing-arguments-through--in-mem_plot_folio">23mar2022 issue #7 passing arguments through … in <code>mem_plot_folio()</code>
<a class="anchor" aria-label="anchor" href="#23mar2022-issue-7-passing-arguments-through--in-mem_plot_folio"></a></h2>
<ul><li>User reported an error when calling <code>mem_plot_folio(mem, node_factor=5, label_factor=1.5)</code>
</li>
<li>
<code><a href="reference/mem_plot_folio.html">mem_plot_folio()</a></code> is passing <code>...</code> to <code><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">ComplexHeatmap::Heatmap()</a></code> which does not accept <code>...</code> and throws an error when receiving extra arguments.</li>
<li>I need to limit <code>...</code> to arguments accepted by <code>Heatmap()</code>. I feel like there is an R package function to handle this scenario, so I can avoid writing <code>do.call(Heatmap, custom_args)</code>.</li>
</ul></div>
<div class="section level2">
<h2 id="04feb2022">04feb2022<a class="anchor" aria-label="anchor" href="#04feb2022"></a></h2>
<p>Workflow that starts with pathway-gene incidence matrix upfront, bypassing the <code><a href="reference/multiEnrichMap.html">multiEnrichMap()</a></code> workflow altogether.</p>
<ul><li>
<p><code><a href="reference/memIM2cnet.html">memIM2cnet()</a></code> to convert pathway-to-gene incidence matrix to Cnet <code>igraph</code>.</p>
<ul><li>Requires <code>geneIM</code> which is the enrichment-to-gene incidence matrix. In the driving example, each enrichment would represent a disease subgroup, with the full set of differential genes associated to each subgroup.</li>
<li>Requires <code>enrichIM</code> which contains enrichment-to-pathway whose values are P-values. When this data is not supplied, it should use 0.001 by default. I think these values are only used as an optional gradient color for the pathway nodes.</li>
<li>Optional <code>geneIMcolors</code> which is the same as <code>geneIM</code> except the cells contain colors to use for each gene. Currently the function does not fill these colors, the best method is to use <code><a href="https://rdrr.io/pkg/colorjam/man/matrix2heatColors.html" class="external-link">colorjam::matrix2heatColors()</a></code>
</li>
</ul><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">geneIMcolors</span> <span class="op">&lt;-</span> <span class="fu">colorjam</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/colorjam/man/matrix2heatColors.html" class="external-link">matrix2heatColors</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">geneIM</span>,
   colorV<span class="op">=</span><span class="va">colorV</span><span class="op">)</span></code></pre></div>
</li>
</ul></div>
<div class="section level2">
<h2 id="03feb2022">03feb2022<a class="anchor" aria-label="anchor" href="#03feb2022"></a></h2>
<ul><li>
<p>option to assign pathways to “functional themes” based upon presentation by Adeline Chin in Dr. Hanna Kim’ group.</p>
<ul><li>This step may “collapse” multiple pathways together, similar to grouping functional groups: union of genes, lowest enrichment P-value.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="25jan2021">25jan2021<a class="anchor" aria-label="anchor" href="#25jan2021"></a></h2>
<ul><li>
<p><code><a href="reference/heatmap_row_order.html">heatmap_row_order()</a></code>, <code><a href="reference/heatmap_column_order.html">heatmap_column_order()</a></code> should return a flat vector when there are no row_split or column_split, respectively. Currently data is returned as a list of one-length vectors.</p>
<ul><li>Consider moving into <code>jamba</code> package, in case this function needs to be re-used, it should not require loading the full <code>multienrichjam</code> package, which itself requires things like <code>igraph</code>, <code>clusterProfiler</code>, <code>qgraph</code>, <code>DOSE</code>, <code>matrixStats</code>.</li>
<li>Import <code><a href="https://rdrr.io/pkg/jamba/man/heatmap_row_order.html" class="external-link">jamba::heatmap_row_order()</a></code> and <code><a href="https://rdrr.io/pkg/jamba/man/heatmap_column_order.html" class="external-link">jamba::heatmap_column_order()</a></code> to ensure any functions or packages calling this function will succeed without error.</li>
</ul></li>
</ul><p>This document describes plans for enhancements to the multienrichjam R package.</p>
</div>
<div class="section level2">
<h2 id="05nov2021">05nov2021<a class="anchor" aria-label="anchor" href="#05nov2021"></a></h2>
<p>Now that directional z-score can also be associated with enrichment P-values, heatmaps might need to use a bivariate color scale, to indicate enrichment and directionality. See “stevens.bluered”. For example the <code><a href="reference/mem_enrichment_heatmap.html">mem_enrichment_heatmap()</a></code> colors nodes by enrichment P-value, more intense is more significant enrichment. The z-score direction is used to apply red “activated” or blue “inhibited”. However, pathways with no z-score, or z-score below the threshold are colored red by default. They should use a neutral color.</p>
</div>
<div class="section level2">
<h2 id="04nov2021">04nov2021<a class="anchor" aria-label="anchor" href="#04nov2021"></a></h2>
<p>For IPA “Upstream Regulators” it sometimes offers a direction implied by the <code>activation z-score</code>. Design idea is to implement the directionality so it can be included in downstream analyses.</p>
<ul><li>
<code><a href="reference/mem_enrichment_heatmap.html">mem_enrichment_heatmap()</a></code> - currently shades by the <code>-log10(pvalue)</code> however if there is directionality, it could be signed <code>+</code> for activated, <code>-</code> for inhibited. Then the heatmap color scale would use blue-white-red color gradient.</li>
<li>
<code>mem$enrichIMdirection</code> contains matrix of direction, by default <code>1</code> means all have same direction.</li>
</ul><p>During <code><a href="reference/multiEnrichMap.html">multiEnrichMap()</a></code> it filters for <code>topEnrichN</code> entries for each enrichment. It might be useful to retain the rank number for each enrichment, to review when setting a different <code>topEnrichN</code> threshold.</p>
<ul><li>
<code>mem$enrichIMgeneCount</code> contains matrix of gene counts</li>
<li>
<code>mem$enrichIMrank</code> contains matrix of pathway rank (after filtering gene count)</li>
</ul></div>
<div class="section level2">
<h2 id="01nov2021">01nov2021<a class="anchor" aria-label="anchor" href="#01nov2021"></a></h2>
<ul><li>
<p>COMPLETE: <code><a href="reference/mem_enrichment_heatmap.html">mem_enrichment_heatmap()</a></code> - the heatmap circles and legend circles are not the same size - they should be fixed to the same absolute size.</p>
<ul><li>COMPLETE: Optionally label each heatmap cell with the number of genes for visual reinforcement.</li>
</ul></li>
<li>
<p>COMPLETE: When there are more than 3 enrichments, the color legend on the gene-pathway heatmap becomes unwieldy - taking over the whole figure.</p>
<ul><li>Optionally (and by default) hide color legend for the gene-pathway heatmap.</li>
</ul></li>
<li>
<p>COMPLETE: The gene-pathway heatmap use_raster=TRUE causes artifacts in output, it should be disabled by default. In future, debug why things go wrong.</p>
<ul><li>I think the bug is caused by rasterization being done on underlying numbers before the color ramp is applied, in which case this problem cannot be solved when <code>colorize_by_gene=TRUE</code> since categorical values are assigned numbers which are not a proper color gradient.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="20jul2021">20jul2021<a class="anchor" aria-label="anchor" href="#20jul2021"></a></h2>
<ul><li>
<p>Replace <code><a href="reference/multiEnrichMap.html">multiEnrichMap()</a></code> with <code>multienrichjam()</code> and simplify the arguments:</p>
<ul><li>p_cutoff</li>
<li>min_gene_count</li>
<li>top_enrich_n</li>
<li>colnames: id, name, description, pvalue, gene</li>
<li>color_sub</li>
</ul></li>
<li><p>Port <code><a href="reference/mem_enrichment_heatmap.html">mem_enrichment_heatmap()</a></code> argument <code>colorize_by_gene=TRUE</code> to use <code><a href="https://rdrr.io/pkg/ComplexHeatmap/man/Heatmap.html" class="external-link">ComplexHeatmap::Heatmap()</a></code> instead of <code><a href="https://rdrr.io/pkg/jamba/man/imageByColors.html" class="external-link">jamba::imageByColors()</a></code> for consistency, also so it can support <code>style="dotplot"</code>.</p></li>
</ul></div>
<div class="section level2">
<h2 id="19jul2021">19jul2021<a class="anchor" aria-label="anchor" href="#19jul2021"></a></h2>
<ul><li>
<code><a href="reference/jam_igraph.html">jam_igraph()</a></code> with <code>rescale=TRUE</code> should also scale igraph vertex size and igraph label size according to the new axis ranges.</li>
<li>Debug <code><a href="reference/jam_igraph.html">jam_igraph()</a></code> when <code>vertex.size</code> is defined alongside V(g)$size, and <code>node_factor</code>. It appears not to apply the size properly.</li>
<li>COMPLETE: <code><a href="reference/mem_enrichment_heatmap.html">mem_enrichment_heatmap()</a></code> new option for dot plot format, based upon <code><a href="https://rdrr.io/pkg/enrichplot/man/dotplot.html" class="external-link">enrichplot::dotplot()</a></code> that sizes each dot by the number of genes present.</li>
</ul></div>
<div class="section level2">
<h2 id="24jun2021">24jun2021<a class="anchor" aria-label="anchor" href="#24jun2021"></a></h2>
<ul><li>In <code><a href="reference/multiEnrichMap.html">multiEnrichMap()</a></code> remove default <code>topEnrichSources</code> and <code>topEnrichSourceSubset</code> which throw errors when not using MSigDB data.</li>
<li>
<code><a href="reference/topEnrichBySource.html">topEnrichBySource()</a></code> and <code><a href="reference/topEnrichBySource.html">topEnrichListBySource()</a></code> should be able to accept <code>enrichResult</code> as input, and return <code>enrichResult</code> and not <code>data.frame</code> which is understandably lossy. I need to understand the proper method for creating a subset of an <code>enrichList</code> object, including its internal data.</li>
<li>Streamline the <code><a href="reference/topEnrichBySource.html">topEnrichListBySource()</a></code> workflow.</li>
</ul></div>
<div class="section level2">
<h2 id="21jun2021">21jun2021<a class="anchor" aria-label="anchor" href="#21jun2021"></a></h2>
<ul><li>COMPLETE: Allow rotating gene-pathway incidence matrix when using <code><a href="reference/mem_gene_path_heatmap.html">mem_gene_path_heatmap()</a></code>, so the pathway names are rows.</li>
<li>Add test data object <code>mem</code> to be convenient for function examples, and testthis test suite.</li>
</ul></div>
<div class="section level2">
<h2 id="smaller-usability-items">Smaller usability items<a class="anchor" aria-label="anchor" href="#smaller-usability-items"></a></h2>
<ul><li>
<p>edge_bundling=“connections” should also allow <code>render_groups=TRUE</code> to work, by returning the <code>"nodegroups"</code> required for that step.</p>
<ul><li>It should probably filter out singlet nodes by default, since the typical use case is “nodeset-to-node” for Cnet plots.</li>
<li>Main use case is with a Cnet plot, edge bundling by connected nodes should allow drawing an optional border around each group of nodes.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="complete-10apr2021-implement-edge-bundling-techniques">COMPLETE: 10apr2021: implement edge bundling techniques<a class="anchor" aria-label="anchor" href="#complete-10apr2021-implement-edge-bundling-techniques"></a></h2>
<p>Priority: high</p>
<p>Status: Implemented, early active testing of usability and functionality</p>
<ul><li>“connections” - Cnet edge bundles - special case of nodeset-to-node edge bundling</li>
<li>“nodegroups”: Node group bundles - general case of nodeset-to-nodeset edge bundling</li>
</ul><p>Useful to improve readability/aesthetics of collapsed Cnet plots, especially Cnet plots with many gene nodes where it is difficult to tell which pathway clusters are connected to each gene.</p>
</div>
<div class="section level2">
<h2 id="10apr2021-enhancements-to-jam_igraph-must-be-done-inside-jam_plot_igraph">10apr2021: enhancements to <code>jam_igraph()</code> (must be done inside <code>jam_plot_igraph()</code>)<a class="anchor" aria-label="anchor" href="#10apr2021-enhancements-to-jam_igraph-must-be-done-inside-jam_plot_igraph"></a></h2>
<ul><li><p>Consider silently returning the <code>igraph</code> object plotted where the vertex, edge, and graph attributes are updated to the values used at runtime. For example, if user overrides any attributes, those attributes will be present in the object returned, so the next iteration someone could just call <code><a href="reference/jam_igraph.html">jam_igraph()</a></code> without any custom attributes and it would produce the same plot again.</p></li>
<li><p>See <a href="https://igraph.org/r/doc/plot.common.html" class="external-link uri">https://igraph.org/r/doc/plot.common.html</a> and <code><a href="https://rdrr.io/pkg/igraph/man/igraph_options.html" class="external-link">igraph::igraph_options()</a></code></p></li>
</ul></div>
<div class="section level2">
<h2 id="10apr2021-implement-edge-bundling-in-jam_igraph-and-jam_plot_igraph">10apr2021: implement edge bundling in <code>jam_igraph()</code> and <code>jam_plot_igraph()</code>
<a class="anchor" aria-label="anchor" href="#10apr2021-implement-edge-bundling-in-jam_igraph-and-jam_plot_igraph"></a></h2>
<p>Priority: high</p>
<p>Status: Implemented</p>
<ul><li>
<p>This task involves making edge bundling accessible as a simple option during plotting, to prevent having to run 3 or 4 functions:</p>
<ul><li>
<code><a href="reference/jam_igraph.html">jam_igraph()</a></code> with hidden edges</li>
<li>
<code>bundle_node_edges()</code> to display edges on top of nodes</li>
<li>(optional) <code><a href="reference/jam_igraph.html">jam_igraph()</a></code> with hidden edges, nodes with solid white color so they fully cover edges.</li>
<li>
<code><a href="reference/jam_igraph.html">jam_igraph()</a></code> with hidden edges, to display nodes on top of bundled edges while allowing nodes to have alpha transparency</li>
</ul></li>
<li>
<p>Note there is a package based on <code>ggraph</code> that implements edge bundling - if <code>jam_ggraph()</code> is going to be our future, maybe we should implement edge bundling using a similar approach used by that R package.</p>
<ul><li><a href="https://github.com/schochastics/edgebundle" class="external-link uri">https://github.com/schochastics/edgebundle</a></li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="10apr2021-add-plot_cnet_heatmaps-to-multienrichjam">10apr2021: add <code>plot_cnet_heatmaps()</code> to multienrichjam<a class="anchor" aria-label="anchor" href="#10apr2021-add-plot_cnet_heatmaps-to-multienrichjam"></a></h2>
<p>Priority: high</p>
<ul><li>
<code>plot_cnet_heatmaps()</code> is in development, and arranges expression heatmaps around a central Cnet plot, using genes in each cnet cluster. It is intended to be used with Cnet clusters from <code><a href="reference/collapse_mem_clusters.html">collapse_mem_clusters()</a></code>, by-product of <code><a href="reference/mem_plot_folio.html">mem_plot_folio()</a></code>.</li>
</ul><p>This figure seems very useful because it integrates expression changes alongside gene-pathway connections.</p>
<p>The multienrichment workflow would likely become:</p>
<ul><li>Prepare enrichment data</li>
<li><code><a href="reference/multiEnrichMap.html">multiEnrichMap()</a></code></li>
<li><code><a href="reference/mem_plot_folio.html">mem_plot_folio()</a></code></li>
<li><code>plot_cnet_heatmap()</code></li>
</ul></div>
<div class="section level2">
<h2 id="10apr2021-enable-plotting-node-community-data-in-jam_igraph">10apr2021: enable plotting node community data in <code>jam_igraph()</code>
<a class="anchor" aria-label="anchor" href="#10apr2021-enable-plotting-node-community-data-in-jam_igraph"></a></h2>
<p>Priority: low</p>
<ul><li>Analogous to <code>igraph:::plot.communities()</code> with <code>mark.groups</code>
</li>
<li>for edge bundling, this step could optionally display boundaries around each node group.</li>
</ul><p>Value is reinforcing node groups with a boundary. In testing, the boundary actually made plots look more complex. And with simple plots, it does not seem necessary since nodes are already well-spaced.</p>
</div>
<div class="section level2">
<h2 id="10apr2021-include-genecount-matrix-output-from-multienrichmap">10apr2021: include geneCount matrix output from <code>multiEnrichMap()</code>
<a class="anchor" aria-label="anchor" href="#10apr2021-include-genecount-matrix-output-from-multienrichmap"></a></h2>
<p>Priority: medium</p>
<ul><li><p>Purpose is to complement the “enrichIM” matrix, with P-values for each set. However “dysregulated pathways” may also be required to have N number of genes, yet this data is not easily available.</p></li>
<li>
<p>Rows are pathways, columns are enrichments, values are the number of genes involved in enrichment.</p>
<ul><li>Consider a matrix whose cells contain delimited gene symbols</li>
</ul></li>
</ul><p>Useful to apply filtering at matrix-level for pathways that meet enrichment P-value and gene count thresholds.</p>
</div>
<div class="section level2">
<h2 id="2020-apply-node-color-order-based-upon-shape-of-node-cluster">2020: apply node color order based upon shape of node cluster<a class="anchor" aria-label="anchor" href="#2020-apply-node-color-order-based-upon-shape-of-node-cluster"></a></h2>
<p>Priority: medium</p>
<p><code><a href="reference/reorderIgraphNodes.html">reorderIgraphNodes()</a></code></p>
<ul><li><p>when a cluster of nodes is short-wide, the order should be left-to-right</p></li>
<li><p>when a cluster of nodes is tall-skinny, the order should be top-to-bottom</p></li>
<li>
<p>all else should be sorted left-to-right (or user-defined default order)</p>
<ul><li>it is visually confusing when tall-skinny nodes are sorted left-to-right</li>
</ul></li>
</ul><p>Useful to automate the ordering of node colors</p>
</div>
<div class="section level2">
<h2 id="2020-apply-subsetsets-in-multienrichmap">2020: apply subsetSets in <code>multiEnrichMap()</code>
<a class="anchor" aria-label="anchor" href="#2020-apply-subsetsets-in-multienrichmap"></a></h2>
<p>Priority: low</p>
<ul><li>apparently it had never been implemented? User-defined subset of pathways/sets to include in <code><a href="reference/multiEnrichMap.html">multiEnrichMap()</a></code>, as an alternative to using <code><a href="reference/topEnrichBySource.html">topEnrichBySource()</a></code>.</li>
</ul><p>Users can currently perform this subset step before running <code><a href="reference/multiEnrichMap.html">multiEnrichMap()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="complete-apply-min_count-in-multienrichmap">COMPLETE: Apply min_count in <code>multiEnrichMap()</code>
<a class="anchor" aria-label="anchor" href="#complete-apply-min_count-in-multienrichmap"></a></h2>
<ul><li>Currently <code><a href="reference/multiEnrichMap.html">multiEnrichMap()</a></code> does not filter by number of genes involved in enrichment, it only filters by enrichment P-value. New argument <code>min_count</code> is applied only when <code>topEnrichN</code> is used, but nothing else downstream is aware of filtering by <code>min_count</code>. The corresponding argument in <code><a href="reference/mem_plot_folio.html">mem_plot_folio()</a></code> is <code>min_set_ct_each</code>, which requires a set (pathway) to contain at least this many entries in at least one enrichment result which also meets <code>p_cutoff</code> criteria for enrichment P-value.</li>
</ul></div>
<div class="section level2">
<h2 id="2020-optional-highlight-genes">2020: Optional highlight genes<a class="anchor" aria-label="anchor" href="#2020-optional-highlight-genes"></a></h2>
<p>Priority: low</p>
<ul><li>
<p><code><a href="reference/mem_plot_folio.html">mem_plot_folio()</a></code> and subsequent plots, optional argument <code>highlight_genes</code> which would effectively hide all gene labels except <code>highlight_genes</code> – to help especially crowded plots.</p>
<ul><li>Option 1: User-supplied genes</li>
<li>Option 2: Genes defined by one or more pathways/sets to highlight</li>
<li>Implement as wrapper to <code><a href="reference/jam_igraph.html">jam_igraph()</a></code> to hide/display relevant node labels</li>
<li>
<code>plot_cnet_heatmap()</code> could label the heatmap rows using <code>anno_mark()</code>
</li>
</ul></li>
</ul><p>Useful in Cnet plots with too many genes to label, it allows only a subset of genes to be highlighted. Will become high priority if a manuscript decides to use this technique.</p>
</div>
<div class="section level2">
<h2 id="consider-a-strict-output-format-for-mem_plot_folio">Consider a strict output format for <code>mem_plot_folio()</code>
<a class="anchor" aria-label="anchor" href="#consider-a-strict-output-format-for-mem_plot_folio"></a></h2>
<p>Priority: medium</p>
<ul><li><p>Goal is to run <code><a href="reference/mem_plot_folio.html">mem_plot_folio()</a></code> once then be able to plot any component separately. Would help keep all plots in sync with the settings used.</p></li>
<li><p>Benefit: Always have ability to see the exact gene-pathway incidence matrix heatmap, and its clustering, which is used for a collapsed Cnet plots.</p></li>
<li>
<p>Design idea: List format</p>
<ul><li>
<p>Named by type of output:</p>
<ul><li><p>enrichment P-values</p></li>
<li>
<p>gene-pathway heatmap</p>
<ul><li>Heatmap object</li>
<li>gene clusters</li>
<li>pathway clusters</li>
<li>filter/cluster settings used</li>
</ul></li>
<li>
<p>collapsed cnet igraphs</p>
<ul><li>with each labeling option implemented</li>
</ul></li>
<li>
<p>cnet exemplar igraphs</p>
<ul><li>1 exemplar per pathway cluster</li>
<li>2 exemplars per pathway cluster</li>
<li>3 exemplars per pathway cluster</li>
</ul></li>
<li>
<p>each cnet cluster igraph</p>
<ul><li>cluster 1 cnet igraph</li>
<li>cluster 2 cnet igraph</li>
<li>cluster 3 cnet igraph</li>
<li>…</li>
</ul></li>
</ul></li>
<li><p>Each type of output contains a <code>list</code> of relevant components</p></li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="10apr2021-make-plot-commands-word-for-ggraph">10apr2021: make plot commands word for ggraph<a class="anchor" aria-label="anchor" href="#10apr2021-make-plot-commands-word-for-ggraph"></a></h2>
<p>Priority: low</p>
<ul><li><p>Goal is to use ggraph for ggplot2-type plotting instead of using base R for <code>igraph</code> plots.</p></li>
<li>
<p><code>jam_ggraph()</code> ?</p>
<ul><li>Test <code>scatterpie</code> R package which implements pie node shapes for use in ggraph. Unsure the data content requirement.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="10apr2021-document-examples-for-reorderigraphnotes">10apr2021: document examples for <code>reorderIgraphNotes()</code>
<a class="anchor" aria-label="anchor" href="#10apr2021-document-examples-for-reorderigraphnotes"></a></h2>
<ul><li>Examples should show how to specify color order, or change the order if necessary.</li>
</ul></div>
<div class="section level2">
<h2 id="complete-2020-improve-reorderigraphnotes">COMPLETE: 2020: Improve <code>reorderIgraphNotes()</code>
<a class="anchor" aria-label="anchor" href="#complete-2020-improve-reorderigraphnotes"></a></h2>
<ul><li>
<code><a href="reference/reorderIgraphNodes.html">reorderIgraphNodes()</a></code> when it encounters attributes with multiple colors per node, such as <code>"pie.colors"</code> and <code>"coloredrect.colors"</code>, calls <code><a href="reference/avg_colors_by_list.html">avg_colors_by_list()</a></code> to generate one blended color per node, then it sorts those colors using <code><a href="reference/sort_colors.html">sort_colors()</a></code>. However, the color order ultimately does not match the order in the color legend, and other plots such as heatmaps.</li>
<li>Future idea is to convert node attributes with multiple colors per node into a <code>data.frame</code> where each color is in a separate column. Then convert each column to a factor whose levels match the color order from <code>colorV</code> (argument to <code><a href="reference/multiEnrichMap.html">multiEnrichMap()</a></code>). The end result should sort nodes consistent with the order of colors.</li>
<li>Note this process assumes that all node colors are from a limited set, which ideally should match <code>colorV</code>. Therefore if any color gradient is applied to nodes with <code>nodeType="gene"</code>, this process will not work.</li>
</ul></div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>



      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

