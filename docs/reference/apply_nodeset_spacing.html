<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Apply minimum node spacing for each Cnet node set — apply_nodeset_spacing • multienrichjam</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Apply minimum node spacing for each Cnet node set — apply_nodeset_spacing"><meta name="description" content="Apply minimum node spacing for each Cnet node set"><meta property="og:description" content="Apply minimum node spacing for each Cnet node set"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">multienrichjam</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.100.900</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/importIPA.html">How to import and use Ingenuity IPA enrichment data</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="http://github.com/jmw86069/multienrichjam/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Apply minimum node spacing for each Cnet node set</h1>
      <small class="dont-index">Source: <a href="http://github.com/jmw86069/multienrichjam/blob/HEAD/R/jamenrich-apply-cnet-spacing.R" class="external-link"><code>R/jamenrich-apply-cnet-spacing.R</code></a></small>
      <div class="d-none name"><code>apply_nodeset_spacing.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Apply minimum node spacing for each Cnet node set</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">apply_nodeset_spacing</span><span class="op">(</span></span>
<span>  <span class="va">cnet</span>,</span>
<span>  percent_spacing <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  apply_negative <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"median"</span>, <span class="st">"minimum"</span><span class="op">)</span>,</span>
<span>  nodesets <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tolerance <span class="op">=</span> <span class="fl">1.05</span>,</span>
<span>  cnet_nodesets <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-cnet">cnet<a class="anchor" aria-label="anchor" href="#arg-cnet"></a></dt>
<dd><p><code>igraph</code> object that contains attribute
<code>"nodeType"</code> and values <code>nodeType=c("Gene", "Set")</code>,
consistent with use of <code><a href="get_cnet_nodeset.html">get_cnet_nodeset()</a></code> and
<code><a href="adjust_cnet_nodeset.html">adjust_cnet_nodeset()</a></code>.
The node layout is expected to be stored in
<code>igraph::graph_attr(cnet, "layout")</code>.</p></dd>


<dt id="arg-percent-spacing">percent_spacing<a class="anchor" aria-label="anchor" href="#arg-percent-spacing"></a></dt>
<dd><p><code>numeric</code> indicating the target spacing in relation
to the maximum x-axis and y-axis span for the layout coordinates.
For example <code>percent_spacing=4</code> will require that the median spacing
between nodes in each nodeset is at least 4 percent of the larger of
the x-axis and y-axis ranges for the layout of input <code>cnet</code>.</p></dd>


<dt id="arg-apply-negative">apply_negative<a class="anchor" aria-label="anchor" href="#arg-apply-negative"></a></dt>
<dd><p><code>logical</code> indicating whether to shrink node spacing
when the spacing is larger than the target <code>percent spacing</code>. By default
<code>apply_negative=FALSE</code> which allows nodes to exceed the spacing, and
only adjusts node spacing when a nodeset is below this threshold.</p></dd>


<dt id="arg-metric">metric<a class="anchor" aria-label="anchor" href="#arg-metric"></a></dt>
<dd><p><code>character</code> string indicating the metric used to summarize
nodeset spacing:</p><ul><li><p><code>"median"</code> - takes the median spacing between nodes in the nodeset,
so the end result has at least half nodes with <code>percent_spacing</code>
distance, "typical distance between nodes". This option is useful
when there may be one node pair close together, but most nodes have
consistent distance from their nearest node neighbor.</p></li>
<li><p><code>"minimum"</code> - takes the minimum spacing between nodes in the nodeset,
so the end result requires all nodes to have at least <code>percent_spacing</code>
distance.</p></li>
<li><p><code>function</code> - a <code>function</code> can be provided which takes a <code>numeric</code>
vector of node distances, and produces a single <code>numeric</code> summary value,
which will be scaled relative to the maximum xy axis range. This option
would allow using <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>, or a quantile function such as
<code>function(x){quantile(x, 0.3)}</code>.</p></li>
</ul></dd>


<dt id="arg-nodesets">nodesets<a class="anchor" aria-label="anchor" href="#arg-nodesets"></a></dt>
<dd><p><code>character</code> with optional subset of nodesets to adjust,
or the default <code>nodesets=NULL</code> will adjust all nodesets. Values can be
specified either in form or nodeset names, or any one or more members
of a nodeset.</p></dd>


<dt id="arg-tolerance">tolerance<a class="anchor" aria-label="anchor" href="#arg-tolerance"></a></dt>
<dd><p><code>numeric</code> value used to apply a small tolerance to the
distance threshold, for example the default <code>tolerance=1.05</code> requires
nodes to be more than 5% lower than the actual threshold before
adjusting nodes. This additional activation threshold is experimental
and may not be necessary. It is mainly intended to reduce calculations
for nodesets that are only a small rounding error from being acceptable,
which can happen when the overall plot range is adjusted during rounds
of small node coordinate adjustments like with this function,
<code><a href="nudge_igraph_node.html">nudge_igraph_node()</a></code>, <code>apply_nodeset_spacing()</code>, or
<code><a href="adjust_cnet_set_relayout_gene.html">adjust_cnet_set_relayout_gene()</a></code>.</p></dd>


<dt id="arg-cnet-nodesets">cnet_nodesets<a class="anchor" aria-label="anchor" href="#arg-cnet-nodesets"></a></dt>
<dd><p><code>list</code> optional to provide the known nodesets
upfront, in order to avoid re-determining the nodesets.</p></dd>


<dt id="arg-debug">debug<a class="anchor" aria-label="anchor" href="#arg-debug"></a></dt>
<dd><p><code>logical</code> indicating whether to print debug information
without adjusting the nodeset spacing. This option is useful to see
summary information about nodeset spacing before choosing the
<code>percent_spacing</code> threshold.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p><code>logical</code> indicating whether to print verbose output.
The output includes text printed with <code>debug=TRUE</code> except that nodes
are adjusted when <code>debug=FALSE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments are ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>igraph</code> Cnet object, whose nodes are adjusted
according to the arguments given.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function automates the process of spacing nodesets
in a Cnet plot by calling <code><a href="adjust_cnet_nodeset.html">adjust_cnet_nodeset()</a></code> on
all nodesets whose median nearest node distance is
above or below a threshold.</p>
<p>By default nodes must be at least <code>percent_spacing</code>
distance apart, relative to the maximum x-axis and
y-axis layout coordinate range. Roughly speaking,
nodes are clearly visible with distance between nodes
of at least 3 percent of the coordinate range.</p>
<p>Nodes are not compressed down to this distance unless
using the argument <code>apply_negative=TRUE</code>.</p>
<p>Note that this function does not detect when two
clusters overlap. For other specific layout adjustments
use <code><a href="adjust_cnet_nodeset.html">adjust_cnet_nodeset()</a></code>. In future, this function
may attempt to re-position nodesets relative to
each other, but that process tends to be iterative
and is not guaranteed to have a solution.</p>
<p>When a nodeset contains only one node, there is no calculated
distance so it is reported as <code>NA</code> when <code>verbose=TRUE</code> or
<code>debug=TRUE</code>. However for internal purposes the nodeset is
treated as if its nodeset spacing is exactly <code>percent_spacing</code>
so that no subsequent adjustments are performed on the nodeset.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other jam cnet igraph functions:
<code><a href="adjust_cnet_nodeset.html">adjust_cnet_nodeset</a>()</code>,
<code><a href="adjust_cnet_set_relayout_gene.html">adjust_cnet_set_relayout_gene</a>()</code>,
<code><a href="apply_cnet_direction.html">apply_cnet_direction</a>()</code>,
<code><a href="get_cnet_nodeset.html">get_cnet_nodeset</a>()</code>,
<code><a href="make_cnet_test.html">make_cnet_test</a>()</code>,
<code><a href="nudge_igraph_node.html">nudge_igraph_node</a>()</code>,
<code><a href="rotate_igraph_layout.html">rotate_igraph_layout</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

