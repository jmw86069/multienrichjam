<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Apply minimum node spacing for each Cnet node set — apply_nodeset_spacing • multienrichjam</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Apply minimum node spacing for each Cnet node set — apply_nodeset_spacing"><meta property="og:description" content="Apply minimum node spacing for each Cnet node set"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">multienrichjam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.69.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/importIPA.html">How to import and use Ingenuity IPA enrichment data</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/multienrichjam/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Apply minimum node spacing for each Cnet node set</h1>
    <small class="dont-index">Source: <a href="http://github.com/jmw86069/multienrichjam/blob/HEAD/R/jamenrich-cnet.R" class="external-link"><code>R/jamenrich-cnet.R</code></a></small>
    <div class="hidden name"><code>apply_nodeset_spacing.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Apply minimum node spacing for each Cnet node set</p>
    </div>

    <div class="ref-usage sourceCode"><pre class="sourceCode r"><code><span class="fu">apply_nodeset_spacing</span><span class="op">(</span>
  <span class="va">cnet</span>,
  percent_spacing <span class="op">=</span> <span class="fl">3</span>,
  apply_negative <span class="op">=</span> <span class="cn">FALSE</span>,
  metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"median"</span>, <span class="st">"minimum"</span><span class="op">)</span>,
  nodesets <span class="op">=</span> <span class="cn">NULL</span>,
  tolerance <span class="op">=</span> <span class="fl">1.05</span>,
  cnet_nodesets <span class="op">=</span> <span class="cn">NULL</span>,
  debug <span class="op">=</span> <span class="cn">FALSE</span>,
  verbose <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>

    <div id="ref-sections">
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>cnet</dt>
<dd><p><code>igraph</code> object that contains attribute
<code>"nodeType"</code> and values <code>nodeType=c("Gene", "Set")</code>,
consistent with use of <code><a href="get_cnet_nodeset.html">get_cnet_nodeset()</a></code> and
<code><a href="adjust_cnet_nodeset.html">adjust_cnet_nodeset()</a></code>.
The node layout is expected to be stored in
<code>igraph::graph_attr(cnet, "layout")</code>.</p></dd>
<dt>percent_spacing</dt>
<dd><p><code>numeric</code> indicating the target spacing in relation
to the maximum x-axis and y-axis span for the layout coordinates.
For example <code>percent_spacing=4</code> will require that the median spacing
between nodes in each nodeset is at least 4 percent of the larger of
the x-axis and y-axis ranges for the layout of input <code>cnet</code>.</p></dd>
<dt>apply_negative</dt>
<dd><p><code>logical</code> indicating whether to shrink node spacing
when the spacing is larger than the target <code>percent spacing</code>. By default
<code>apply_negative=FALSE</code> which allows nodes to exceed the spacing, and
only adjusts node spacing when a nodeset is below this threshold.</p></dd>
<dt>metric</dt>
<dd><p><code>character</code> string indicating the metric used to summarize
nodeset spacing:</p><ul><li><p><code>"median"</code> - takes the median spacing between nodes in the nodeset,
so the end result has at least half nodes with <code>percent_spacing</code>
distance, "typical distance between nodes". This option is useful
when there may be one node pair close together, but most nodes have
consistent distance from their nearest node neighbor.</p></li>
<li><p><code>"minimum"</code> - takes the minimum spacing between nodes in the nodeset,
so the end result requires all nodes to have at least <code>percent_spacing</code>
distance.</p></li>
<li><p><code>function</code> - a <code>function</code> can be provided which takes a <code>numeric</code>
vector of node distances, and produces a single <code>numeric</code> summary value,
which will be scaled relative to the maximum xy axis range. This option
would allow using <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>, or a quantile function such as
<code>function(x){quantile(x, 0.3)}</code>.</p></li>
</ul></dd>
<dt>nodesets</dt>
<dd><p><code>character</code> with optional subset of nodesets to adjust,
or the default <code>nodesets=NULL</code> will adjust all nodesets. Values can be
specified either in form or nodeset names, or any one or more members
of a nodeset.</p></dd>
<dt>tolerance</dt>
<dd><p><code>numeric</code> value used to apply a small tolerance to the
distance threshold, for example the default <code>tolerance=1.05</code> requires
nodes to be more than 5% lower than the actual threshold before
adjusting nodes. This additional activation threshold is experimental
and may not be necessary. It is mainly intended to reduce calculations
for nodesets that are only a small rounding error from being acceptable,
which can happen when the overall plot range is adjusted during rounds
of small node coordinate adjustments like with this function,
<code><a href="nudge_igraph_node.html">nudge_igraph_node()</a></code>, <code>apply_nodeset_spacing()</code>, or
<code><a href="adjust_cnet_set_relayout_gene.html">adjust_cnet_set_relayout_gene()</a></code>.</p></dd>
<dt>cnet_nodesets</dt>
<dd><p><code>list</code> optional to provide the known nodesets
upfront, in order to avoid re-determining the nodesets.</p></dd>
<dt>debug</dt>
<dd><p><code>logical</code> indicating whether to print debug information
without adjusting the nodeset spacing. This option is useful to see
summary information about nodeset spacing before choosing the
<code>percent_spacing</code> threshold.</p></dd>
<dt>verbose</dt>
<dd><p><code>logical</code> indicating whether to print verbose output.
The output includes text printed with <code>debug=TRUE</code> except that nodes
are adjusted when <code>debug=FALSE</code>.</p></dd>
<dt>...</dt>
<dd><p>additional arguments are ignored.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><code>igraph</code> Cnet object, whose nodes are adjusted
according to the arguments given.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function automates the process of spacing nodesets
in a Cnet plot by calling <code><a href="adjust_cnet_nodeset.html">adjust_cnet_nodeset()</a></code> on
all nodesets whose median nearest node distance is
above or below a threshold.</p>
<p>By default nodes must be at least <code>percent_spacing</code>
distance apart, relative to the maximum x-axis and
y-axis layout coordinate range. Roughly speaking,
nodes are clearly visible with distance between nodes
of at least 3 percent of the coordinate range.</p>
<p>Nodes are not compressed down to this distance unless
using the argument <code>apply_negative=TRUE</code>.</p>
<p>Note that this function does not detect when two
clusters overlap. For other specific layout adjustments
use <code><a href="adjust_cnet_nodeset.html">adjust_cnet_nodeset()</a></code>. In future, this function
may attempt to re-position nodesets relative to
each other, but that process tends to be iterative
and is not guaranteed to have a solution.</p>
<p>When a nodeset contains only one node, there is no calculated
distance so it is reported as <code>NA</code> when <code>verbose=TRUE</code> or
<code>debug=TRUE</code>. However for internal purposes the nodeset is
treated as if its nodeset spacing is exactly <code>percent_spacing</code>
so that no subsequent adjustments are performed on the nodeset.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other jam cnet igraph functions: 
<code><a href="adjust_cnet_nodeset.html">adjust_cnet_nodeset</a>()</code>,
<code><a href="adjust_cnet_set_relayout_gene.html">adjust_cnet_set_relayout_gene</a>()</code>,
<code><a href="apply_cnet_direction.html">apply_cnet_direction</a>()</code>,
<code><a href="get_cnet_nodeset.html">get_cnet_nodeset</a>()</code>,
<code><a href="make_cnet_test.html">make_cnet_test</a>()</code>,
<code><a href="nudge_igraph_node.html">nudge_igraph_node</a>()</code>,
<code><a href="rotate_igraph_layout.html">rotate_igraph_layout</a>()</code></p></div>
    </div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
1.9000.9000.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

