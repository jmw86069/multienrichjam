% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/jamenrich-igraph.r
\name{reorderIgraphNodes}
\alias{reorderIgraphNodes}
\title{Re-order igraph nodes}
\usage{
reorderIgraphNodes(
  g,
  sortAttributes = c("pie.color", "pie.color.length", "coloredrect.color", "color",
    "label", "name"),
  nodeSortBy = c("x", "y"),
  layout = NULL,
  colorV = NULL,
  verbose = FALSE,
  ...
)
}
\arguments{
\item{g}{igraph object}

\item{sortAttributes}{character vector of node attribute
names, to be applied in order when sorting nodes.}

\item{nodeSortBy}{character vector containing \code{"x"} and
\code{"y"} indicating the primary axis used to sort nodes.}

\item{layout}{numeric matrix of node coordinates, or
function used to produce layout coordinates. When layout
is \code{NULL}, this function tries to use graph attribute
\code{"layout"}, otherwise
the \code{relayout_with_qfr} is called.}

\item{colorV}{optional \verb{character vector} that contains R colors,
used to order the colors in attributes such as \code{"pie.color"}
and \code{"coloredrect.color"}.}

\item{verbose}{logical indicating whether to print verbose output.}

\item{...}{additional arguments are ignored.}
}
\value{
igraph with nodes positioned to order
nodes by color. The layout coordinates are stored in
the graph attribute \code{"layout"}, accessible with
\code{g$layout} or \code{graph_attr(g, "layout")}.
When there are not multiple nodes sharing
the same neighbors, the original igraph object is
returned, with the addition of layout coordinates.
}
\description{
Re-order igraph nodes
}
\details{
This function takes an igraph and a layout in the
form of coordinates, or a function used to produce
coordinates. It repositions nodes within equivalent
positions, ordering nodes by color along either the
\code{"x"} or \code{"y"} direction.

Equivalent node positions are those with the same
neighboring nodes. For example if node \code{"A"} and
node \code{"B"} both have neighbors \code{c("D", "E", "F")}
then nodes \code{"A"} and \code{"B"} are considered equivalent,
and will be reordered by their color.

This function is particularly effective with concept
network (Cnet) graphs, where multiple terms may
be connnected to the same concept. For MultiEnrichmap,
it typically works when multiple genes are connected
to the same pathways. When this happens, the genes
are sorted to group the colors.
}
\examples{
if (require(igraph)) {
   c3 <- c("red", "gold", "blue");
   c3l <- list(c3[1], c3[2], c3[3],
      c3[c(1,2)], c3[c(1,3)], c3[c(2,3)],
      c3[c(1,2,3)]);
   set.seed(123);
   pc <- c(c3l[1], sample(rep(c3l, c(6,5,5, 4, 1, 4, 4))))
   x <- lapply(pc, function(i){
      jamba::nameVector(i, paste0("group_", i))
   })
   g2 <- igraph::graph_from_edgelist(directed=FALSE,
      as.matrix(data.frame(
         node1=rep("Pathway", length(x)),
         node2=paste0("Gene", jamba::colNum2excelName(seq_along(x))))));
   V(g2)$pie.color <- x[c(1,seq_along(pc))];
   V(g2)$shape <- "pie";
   V(g2)$pie <- lapply(lengths(V(g2)$pie.color), function(i){
      rep(1, i)
   });
   g2 <- relayout_with_qfr(g2, repulse=7, do_reorder=FALSE);
   jam_igraph(g2, main="Unordered", vertex.label="");
   jam_igraph(reorderIgraphNodes(g2), main="reorderIgraphNodes()", vertex.label="");
   jam_igraph(reorderIgraphNodes(g2, nodeSortBy=c("-y","x")), main="reorderIgraphNodes()", vertex.label="");
}

}
\seealso{
Other jam igraph functions: 
\code{\link{cnet2df}()},
\code{\link{cnet2im}()},
\code{\link{cnetplotJam}()},
\code{\link{cnetplot_internalJam}()},
\code{\link{color_edges_by_nodes}()},
\code{\link{drawEllipse}()},
\code{\link{enrichMapJam}()},
\code{\link{fixSetLabels}()},
\code{\link{igraph2pieGraph}()},
\code{\link{jam_igraph}()},
\code{\link{jam_plot_igraph}()},
\code{\link{layout_with_qfrf}()},
\code{\link{layout_with_qfr}()},
\code{\link{memIM2cnet}()},
\code{\link{mem_multienrichplot}()},
\code{\link{rectifyPiegraph}()},
\code{\link{relayout_with_qfr}()},
\code{\link{removeIgraphBlanks}()},
\code{\link{removeIgraphSinglets}()},
\code{\link{spread_igraph_labels}()},
\code{\link{subgraph_jam}()},
\code{\link{subsetCnetIgraph}()},
\code{\link{subset_igraph_components}()},
\code{\link{with_qfr}()}
}
\concept{jam igraph functions}
